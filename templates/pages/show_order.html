{{ define "show_order" }}
<section class="pt-5 pb-5">
	<div class="container">
		{{ if .success }}
		<div class="alert alert-success mb-4">
			{{ index .success 0 }}
		</div>
		{{ end }}

		<h3 class="mb-4">PAYMENT</h3>

		<div class="row">
			<div class="col-lg-8">
				<div class="card mb-4">
					<div class="card-body">
						<div class="d-flex justify-content-between align-items-center mb-3">
							<div>
								<strong>Order Code #</strong>
								<span>{{ .order.Code }}</span>
							</div>

							{{ if .order.IsPaid }}
							<span class="badge badge-success">PAID</span>
							{{ else }}
							<span class="badge badge-info">PENDING</span>
							{{ end }}
						</div>

						<!-- Items -->
						{{ range .order.OrderItems }}
						<div class="d-flex align-items-center py-2 border-bottom">
							<div class="mr-3" style="width:60px;height:60px;background:#f1f1f1;border-radius:6px;">
							</div>
							<div class="flex-fill">
								<div class="font-weight-bold">{{ .Name }}</div>
								<div class="text-muted">Qty: {{ .Qty }}</div>
							</div>
							<div class="text-right"><span class="money">{{ .SubTotal }}</span></div>

						</div>
						{{ end }}

						<!-- Ringkasan -->
						<div class="mt-3">
							<div class="d-flex justify-content-between py-1">
							<span class="money">{{ .order.BaseTotalPrice }}</span>
							</div>
							<div class="d-flex justify-content-between py-1">
								<span>Shipping</span>
								<span class="money">{{ .order.ShippingCost }}</span>
							</div>
							<div class="d-flex justify-content-between py-1">
								<span>Discount ({{ .order.DiscountPercent }}%)</span>
							<span>-<span class="money">{{ .order.DiscountAmount }}</span></span>
							</div>
							<hr />
							<div class="d-flex justify-content-between py-1 font-weight-bold">
								<span>TOTAL</span>
								<span class="money">{{ .order.GrandTotal }}</span>
							</div>
						</div>
					</div>
				</div>

				<!-- Metode pembayaran -->
				<div class="card">
					<div class="card-body d-flex justify-content-between align-items-center">
						<div>
							<div class="font-weight-bold">Payment Method</div>
							<div class="small text-muted mt-1">
								{{ .order.OrderCustomer.FirstName }} {{ .order.OrderCustomer.LastName }}<br />
								Email: {{ .order.OrderCustomer.Email }}
							</div>
						</div>

						{{ if .order.IsPaid }}
						<button class="btn btn-success" disabled>Sudah Lunas</button>
						{{ else }}
						<form action="/orders/{{ .order.ID }}/pay-manual" method="POST" class="m-0">
							<button type="submit" class="btn btn-primary">TANDAI LUNAS</button>
						</form>
						{{ end }}
					</div>
				</div>
			</div>

			<!-- Sidebar info pengiriman -->
			<div class="col-lg-4">
				<div class="card mb-4">
					<div class="card-body">
						<div class="font-weight-bold mb-2">Shipping Information</div>
						<div class="mb-2">{{ .order.ShippingCourier }}</div>
						<div class="small text-muted">
							<div class="mb-1">
								<span class="d-block font-weight-bold">Address</span>
								{{ .order.OrderCustomer.Address1 }} {{ .order.OrderCustomer.Address2 }}
							</div>
							<div>
								<span class="d-block font-weight-bold">Phone</span>
								{{ .order.OrderCustomer.Phone }}
							</div>
						</div>
					</div>
				</div>

				<div class="card">
					<div class="card-body">
						<div class="font-weight-bold mb-2">Customer Notes</div>
						<div class="text-muted small">â€”</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</section>
{{ end }}
